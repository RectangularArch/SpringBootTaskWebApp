<!DOCTYPE html>
<html lang="en" xmlns:th="http://thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>All employees</title>
</head>
<body>
<table border="1">
    <col width="150">
    <col width="100">
    <col width="260">
    <col width="250">
    <col width="80">
    <col width="80">
    <col width="80">
    <tr>
        <td align="right" colspan="7"><a th:href="@{/logout}">> logout <</a></td>
    </tr>
    <tr>
        <td align="center" colspan="7">
            <a th:href="@{/employee}">My profile</a>
            |
            <a th:href="@{/register}">Add user</a>
            |
            <a th:href="@{/tasks}">All tasks</a>
        </td>
    </tr>
    <tr>
        <th>Full name</th>
        <th>Department</th>
        <th>Position</th>
        <th>Tasks</th>
    </tr>
    <tr th:each="item : ${allEmployees}">
        <td th:text="${item.surname} + ' ' + ${#strings.substring(item.firstname,0,1)} + '. ' + ${#strings.substring(item.middlename,0,1)} + '.'"/>
        <td align="left" th:text="${item.department}"/>
        <td align="left" th:text="${item.position}"/>
        <td align="center">
            <a th:href="@{/employee/{id}/tasks(id=${item.getId()})}">&#9660</a>
        </td>
        <td>
            <form th:method="GET" th:action="@{/{id}/tasks(id=${item.getId()})}">
                <input style='width:80px' type="submit" value="> add <"/>
            </form>
        </td>
        <td>
            <form th:method="GET" th:action="@{/{id}/edit(id=${item.getId()})}">
                <input style='width:80px' type="submit" value="> edit <"/>
            </form>
        </td>
        <td>
            <form th:method="DELETE" th:action="@{/{id}(id=${item.getId()})}">
                <input style='width:80px' type="submit" value="> delete <"/>
            </form>
        </td>
    </tr>
</table>
</body>
</html>