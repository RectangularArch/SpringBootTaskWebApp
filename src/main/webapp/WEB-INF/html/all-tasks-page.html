<!DOCTYPE html>
<html lang="en" xmlns:th="http://thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<table border="1">
    <col width="150">
    <col width="100">
    <col width="390">
    <col width="100">
    <col width="100">
    <col width="80">
    <col width="80">
    <tr>
        <td align="right" colspan="7"><a th:href="@{/logout}">> logout <</a></td>
    </tr>
    <tr>
        <td align="center" colspan="7">
            <a th:href="@{/employee}">Мой профиль</a>
            |
            <a th:href="@{/register}">Добавить пользователя</a>
            |
            <a th:href="@{/employees}">Список пользователей</a>
        </td>
    </tr>
    <tr>
        <th>Испонитель</th>
        <th>Имя задачи</th>
        <th>Описание</th>
        <th>Приоритет</th>
        <th>Статус</th>
    </tr>
    <tr th:each="item : ${allTasks}">
        <td th:text="${item.employee.surname} + ' ' + ${#strings.substring(item.employee.firstname,0,1)} + '. ' + ${#strings.substring(item.employee.middlename,0,1)} + '.'"/>
        <td th:text="${item.head}"/>
        <td th:text="${item.body}"/>
        <td align="center" th:text="${item.priority}"/>
        <td align="center" th:text="${item.status}"/>
        <td>
            <form th:method="GET" th:action="@{/tasks/{id}/edit(id=${item.getId()})}">
                <input style='width:80px' type="submit" value="> edit <"/>
            </form>
        </td>
        <td>
            <form th:method="DELETE" th:action="@{/tasks/{id}(id=${item.getId()})}">
                <input style='width:80px' type="submit" value="> delete <"/>
            </form>
        </td>
    </tr>
</table>
</body>
</html>